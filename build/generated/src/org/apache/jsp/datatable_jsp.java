package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class datatable_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html>\n");
      out.write("    <head>\n");
      out.write("        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n");
      out.write("        <!--CDN-->\n");
      out.write("        <link rel=\"stylesheet\" href=\"https://cdn.datatables.net/1.13.4/css/jquery.dataTables.css\" />\n");
      out.write("        <script src=\"https://cdn.datatables.net/1.13.4/js/jquery.dataTables.js\"></script>\n");
      out.write("        <script src=\"https://code.jquery.com/jquery-3.5.1.js\"></script>\n");
      out.write("        <script src=\"https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js\"></script>\n");
      out.write("        <script src=\"https://kit.fontawesome.com/b3fa33d056.js\" crossorigin=\"anonymous\"></script>\n");
      out.write("\n");
      out.write("        <link rel=\"stylesheet\" href=\"assets/css/bootstrap.min.css\">\n");
      out.write("        <!-- Bootstrap JavaScript library -->\n");
      out.write("        <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js\"></script>\n");
      out.write("        <title>JSP Page</title>\n");
      out.write("    </head>\n");
      out.write("    <script>\n");
      out.write("        $(document).ready(function () {\n");
      out.write("            $('#example').DataTable({\n");
      out.write("                ajax: {\n");
      out.write("                    url: '/HRManagement/employee',\n");
      out.write("                    dataSrc: ''\n");
      out.write("                },\n");
      out.write("                columns: [\n");
      out.write("                    {\n");
      out.write("                        \"className\": 'details-control',\n");
      out.write("                        \"orderable\": false,\n");
      out.write("                        \"data\": null,\n");
      out.write("                        \"defaultContent\": ''\n");
      out.write("                    },\n");
      out.write("                    {data: 'UserID'},\n");
      out.write("                    {data: 'Name'},\n");
      out.write("                    {data: 'Phone'},\n");
      out.write("                    {data: 'Email'},\n");
      out.write("                    {data: 'Username'},\n");
      out.write("                    {data: 'Password'},\n");
      out.write("                    {data: 'Address'},\n");
      out.write("                    {data: 'Birthday'},\n");
      out.write("                    {data: 'ExperienceId'},\n");
      out.write("                    {data: 'Team_ID'},\n");
      out.write("                    {\n");
      out.write("                        data: null,\n");
      out.write("                        render: function (data, type, row) {\n");
      out.write("                            //set id for button = id of employee\n");
      out.write("                            return `\n");
      out.write("                        <button onclick=\"deleteEmployee()\" style=\"background-color: white;box-shadow: none\" class=\"btn\"><i class=\"fa-solid fa-trash text-danger\"></i></button>\n");
      out.write("                        <button onclick=\"update(this)\" style=\"background-color: white;box-shadow: none\" class=\"btn\"><i class=\"fa-solid fa-pen-to-square text-primary\"></i></button>\n");
      out.write("                    `;\n");
      out.write("                        }\n");
      out.write("                    }\n");
      out.write("                ],\n");
      out.write("                \"order\": [[1, 'asc']]\n");
      out.write("            });\n");
      out.write("            // Add event listener for opening and closing details\n");
      out.write("            $('#example tbody').on('click', 'td.details-control', function () {\n");
      out.write("                var tr = $(this).closest('tr');\n");
      out.write("                var row = $('#example').DataTable().row(tr);\n");
      out.write("\n");
      out.write("                if (row.child.isShown()) {\n");
      out.write("                    // This row is already open - close it\n");
      out.write("                    row.child.hide();\n");
      out.write("                    tr.removeClass('shown');\n");
      out.write("                } else {\n");
      out.write("                    // Open this row\n");
      out.write("                    row.child(format(row.data())).show();\n");
      out.write("                    tr.addClass('shown');\n");
      out.write("                }\n");
      out.write("            });\n");
      out.write("            //format detail\n");
      out.write("            function format(d) {\n");
      out.write("                // `d` is the original data object for the row\n");
      out.write("                return '<table cellpadding=\"5\" cellspacing=\"0\" border=\"0\" style=\"padding-left:50px;\">' +\n");
      out.write("                        '<tr>' +\n");
      out.write("                        '<td>Full name:</td>' +\n");
      out.write("                        '<td>' + d.Name + '</td>' +\n");
      out.write("                        '</tr>' +\n");
      out.write("                        '<tr>' +\n");
      out.write("                        '<td>Phone:</td>' +\n");
      out.write("                        '<td>' + d.Phone + '</td>' +\n");
      out.write("                        '</tr>' +\n");
      out.write("                        '<tr>' +\n");
      out.write("                        '<td>Extra info:</td>' +\n");
      out.write("                        '<td>And any further details here (images etc)...</td>' +\n");
      out.write("                        '</tr>' +\n");
      out.write("                        '</table>';\n");
      out.write("            }\n");
      out.write("            $(document).ready(function () {\n");
      out.write("                $(\".myform\").on(\"submit\", function (e) {\n");
      out.write("                    e.preventDefault();\n");
      out.write("                    $.ajax({\n");
      out.write("                        method: \"POST\",\n");
      out.write("                        url: \"/HRManagement/addEmployee\",\n");
      out.write("                        data: new FormData(this),\n");
      out.write("                        processData: false,\n");
      out.write("                        contentType: false,\n");
      out.write("                        success: function (res) {\n");
      out.write("                            console.log(res);\n");
      out.write("                            //reload datatable\n");
      out.write("                            $('#example').DataTable().ajax.reload();\n");
      out.write("                            //close modal and popup alert success\n");
      out.write("                            $('#mymodal').modal('hide');\n");
      out.write("                            alert(\"Add success\");\n");
      out.write("                        },\n");
      out.write("                        error: function (error) {\n");
      out.write("                            console.log(error);\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                });\n");
      out.write("            });\n");
      out.write("            //delete employee\n");
      out.write("\n");
      out.write("        });\n");
      out.write("    </script>\n");
      out.write("    <style>\n");
      out.write("        td.details-control {\n");
      out.write("            background: url('assets/img/open.png') no-repeat center center;\n");
      out.write("            cursor: pointer;\n");
      out.write("        }\n");
      out.write("        tr.details td.details-control {\n");
      out.write("            background: url('assets/img/close.png') no-repeat center center;\n");
      out.write("        }\n");
      out.write("    </style>\n");
      out.write("    <body>\n");
      out.write("        <button class=\"btn-add\" onclick=\"$('#mymodal').modal('show')\" id=\"addRow\">Add new row</button>\n");
      out.write("        <form class=\"myform\">\n");
      out.write("            <div class=\"modal fade\" data-backdrop='static' id=\"mymodal\">\n");
      out.write("                <div class=\"modal-dialog\">\n");
      out.write("                    <div class=\"modal-content\">\n");
      out.write("                        <div class=\"modal-header\">\n");
      out.write("                            <h3 class=\"modal-title\">Add New Employee</h3>\n");
      out.write("                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n");
      out.write("                                <span aria-hidden=\"true\">&times;</span>\n");
      out.write("                            </button>\n");
      out.write("                        </div>\n");
      out.write("\n");
      out.write("                        <div class=\"modal-body\">\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                <label for=\"userID\">UserID:</label>\n");
      out.write("                                <input type=\"text\" class=\"form-control\" id=\"userID\" name=\"userID\">\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                <label for=\"name\">Name:</label>\n");
      out.write("                                <input type=\"text\" class=\"form-control\" id=\"name\" name=\"name\">\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                <label for=\"phone\">Phone:</label>\n");
      out.write("                                <input type=\"phone\" class=\"form-control\" id=\"phone\" name=\"phone\">\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                <label for=\"email\">Email:</label>\n");
      out.write("                                <input type=\"email\" class=\"form-control\" id=\"email\" name=\"email\">\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                <label for=\"username\">Username:</label>\n");
      out.write("                                <input type=\"text\" class=\"form-control\" id=\"username\" name=\"username\">\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                <label for=\"password\">Password:</label>\n");
      out.write("                                <input type=\"password\" class=\"form-control\" id=\"password\" name=\"password\">\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                <label for=\"address\">Address:</label>\n");
      out.write("                                <input type=\"text\" class=\"form-control\" id=\"address\" name=\"address\">\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                <label for=\"birthday\">Birthday:</label>\n");
      out.write("                                <input type=\"date\" class=\"form-control\" id=\"birthday\" name=\"birthday\">\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                <label for=\"experienceId\">ExperienceId:</label>\n");
      out.write("                                <input type=\"text\" class=\"form-control\" id=\"experienceId\" name=\"experienceId\">\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                <label for=\"teamID\">Team_ID:</label>\n");
      out.write("                                <input type=\"text\" class=\"form-control\" id=\"teamID\" name=\"teamID\">\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("\n");
      out.write("                        <div class=\"modal-footer\">\n");
      out.write("                            <input type=\"submit\" value=\"Save\" class=\"btn btn-primary\" />\n");
      out.write("                            <input type=\"reset\" value=\"Reset\" class=\"btn btn-danger\" />\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        </form>\n");
      out.write("        <table id=\"example\" class=\"display\" style=\"width:100%\">\n");
      out.write("            <thead>\n");
      out.write("                <tr>\n");
      out.write("                    <th></th>\n");
      out.write("                    <th>UserID</th>\n");
      out.write("                    <th>Name</th>\n");
      out.write("                    <th>Phone</th>\n");
      out.write("                    <th>Email</th>\n");
      out.write("                    <th>Username</th>\n");
      out.write("                    <th>Password</th>\n");
      out.write("                    <th>Address</th>\n");
      out.write("                    <th>Birthday</th>\n");
      out.write("                    <th>ExperienceId</th>\n");
      out.write("                    <th>Team_ID</th>\n");
      out.write("                    <th>Action</th>\n");
      out.write("                </tr>\n");
      out.write("            </thead>\n");
      out.write("            <tbody>\n");
      out.write("\n");
      out.write("            <tfoot>\n");
      out.write("                <tr>\n");
      out.write("                    <th></th>\n");
      out.write("                    <th>UserID</th>\n");
      out.write("                    <th>Name</th>\n");
      out.write("                    <th>Phone</th>\n");
      out.write("                    <th>Email</th>\n");
      out.write("                    <th>Username</th>\n");
      out.write("                    <th>Password</th>\n");
      out.write("                    <th>Address</th>\n");
      out.write("                    <th>Birthday</th>\n");
      out.write("                    <th>ExperienceId</th>\n");
      out.write("                    <th>Team_ID</th>\n");
      out.write("                    <th>Action</th>\n");
      out.write("                </tr>\n");
      out.write("            </tfoot>\n");
      out.write("        </table>\n");
      out.write("        <script src=\"assets/js/feather.min.js\"></script>\n");
      out.write("        <script src=\"assets/js/popper.min.js\"></script>\n");
      out.write("    </body>\n");
      out.write("</html>\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
